<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Sistema de Controle de Cobranças Banco Amazônia S/A</title>
	<link rel="stylesheet" type="text/css" href="css/estilo.css" />
</h:head>
<h:body>

	<div id="geral">
		<ui:include src="WEB-INF/templates/header.xhtml" />

		<ui:include src="WEB-INF/templates/menu.xhtml" />
		<DIV id="main">
			<h:form id="formconfHml">
				<p:panel header="Gerenciamento">
					<p:panelGrid columns="2" columnClasses="label,value">

						<h:outputText value="Empresa:" style="font-weight:bold;" />
						<h:outputText
							value="#{homologacaoController.homologacao.empresa.nome}" />

						<h:outputText value="Siscad:" style="font-weight:bold;" />
						<h:outputText
							value="#{homologacaoController.homologacao.empresa.siscad}" />

						<h:outputText value="CNPJ:" style="font-weight:bold;" />
						<h:outputText
							value="#{homologacaoController.homologacao.empresa.cnpj}" />

						<h:outputText value="Agência:" style="font-weight:bold;" />
						<h:outputText
							value="#{homologacaoController.homologacao.agencia.numero} / #{homologacaoController.homologacao.agencia.digitoVerificador} - #{homologacaoController.homologacao.agencia.nome}" />

						<h:outputText value="Conta:" style="font-weight:bold;" />
						<h:outputText
							value="#{homologacaoController.homologacao.empresa.conta}" />


					</p:panelGrid>

					<br />

					<fieldset>
						<legend>
							<b>Contatos</b>
						</legend>
						<br />
						<FIELDSET>
							<LEGEND>
								<b>Empresa:</b>

							</LEGEND>
							<p:panelGrid columns="2" columnClasses="label,value"
								style="width:100%; boder=0;">
								<h:outputText value="Nome:" style="font-weight:bold;" />
								<h:outputText
									value="#{homologacaoController.homologacao.empresa.nomeContato}" />

								<h:outputText value="Telefone:" style="font-weight:bold;" />
								<h:outputText
									value="#{homologacaoController.homologacao.empresa.telefone}" />

								<h:outputText value="Email:" style="font-weight:bold;" />
								<h:outputText
									value="#{homologacaoController.homologacao.empresa.email}" />
							</p:panelGrid>
						</FIELDSET>
						<br />
						<FIELDSET>
							<LEGEND>
								<b>Analista da Empresa:</b>

							</LEGEND>
							<p:panelGrid columns="2" columnClasses="label,value"
								style="width:100%; boder=0;">
								<h:outputText value="Nome:" style="font-weight:bold;" />
								<h:outputText
									value="#{homologacaoController.homologacao.empresa.nomeAnalista}" />

								<h:outputText value="Telefone:" style="font-weight:bold;" />
								<h:outputText
									value="#{homologacaoController.homologacao.empresa.contatoAnalista}" />

								<h:outputText value="Email:" style="font-weight:bold;" />
								<h:outputText
									value="#{homologacaoController.homologacao.empresa.emailAnalista}" />
							</p:panelGrid>
						</FIELDSET>
						<br />
						<FIELDSET>
							<LEGEND>
								<b>Responsável pela transferência/recepção dos arquivos:</b>

							</LEGEND>
							<p:panelGrid columns="2" columnClasses="label,value"
								style="width:100%; boder=0;">
								<h:outputText value="Nome:" style="font-weight:bold;" />
								<h:outputText
									value="#{homologacaoController.homologacao.empresa.nomeResponsavel}" />

								<h:outputText value="Telefone:" style="font-weight:bold;" />
								<h:outputText
									value="#{homologacaoController.homologacao.empresa.contatoResponsavel}" />

								<h:outputText value="Email:" style="font-weight:bold;" />
								<h:outputText
									value="#{homologacaoController.homologacao.empresa.emailResponsavel}" />
							</p:panelGrid>
						</FIELDSET>
						<br />
						<FIELDSET>
							<LEGEND>
								<b>Gerente de Relacionamento:</b>

							</LEGEND>
							<p:panelGrid columns="2" columnClasses="label,value"
								style="width:100%; boder=0;">
								<h:outputText value="Nome:" style="font-weight:bold;" />
								<h:outputText
									value="#{homologacaoController.homologacao.empresa.nomeRespAgencia}" />

								<h:outputText value="Telefone:" style="font-weight:bold;" />
								<h:outputText
									value="#{homologacaoController.homologacao.empresa.telefoneRespAgencia}" />

								<h:outputText value="Email:" style="font-weight:bold;" />
								<h:outputText
									value="#{homologacaoController.homologacao.empresa.emailRespAgencia}" />
							</p:panelGrid>
						</FIELDSET>
						<br />
					</fieldset>
					<br />
					<fieldset title="Homologação">
						<legend>
							<b>Dados da Homologação:</b>
						</legend>

						<p:panelGrid columns="2" columnClasses="label,value">
							<h:outputText value="Convênio:"
								style="font-weight:bold;text-align:right;" />
							<h:outputText
								value="#{homologacaoController.homologacao.convenio==0?'':homologacaoController.homologacao.convenio}" />

							<h:outputText value="Padrão:"
								style="font-weight:bold;text-align:right;" />
							<h:outputText value="#{homologacaoController.homologacao.padrao}" />


							<h:outputText value="Chamado:"
								style="font-weight:bold;text-align:right;" />
							<h:outputText
								value="#{homologacaoController.homologacao.chamado}" />

							<h:outputText value="Data Início:" style="font-weight:bold;" />
							<h:outputText
								value="#{homologacaoController.homologacao.dataInicio}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>

							<h:outputText value="Opção:" style="font-weight:bold;" />
							<h:outputText value="#{homologacaoController.homologacao.opcao}" />
							<h:outputText value="Faixa de NN Homologação:" />
							<h:outputText
								value="#{homologacaoController.homologacao.faixaIniHml} - #{homologacaoController.homologacao.faixaFimHml}" />

							<h:outputText value="Faixa de NN Produção:" />
							<h:outputText
								value="#{homologacaoController.homologacao.faixaIniProd} - #{homologacaoController.homologacao.faixaFimProd}" />

							<h:outputText value="Analista Responsável:"
								style="font-weight:bold;" />
							<h:outputText
								value="#{homologacaoController.homologacao.analista.nome}" />
							<h:outputText value="Status:" style="font-weight:bold;" />
							<h:outputText
								value="#{homologacaoController.homologacao.situacao}" />
						</p:panelGrid>


					</fieldset>
					<br />
					<fieldset title="Situações">
						<legend>
							<b>Histórico da Situação:</b>
						</legend>
						<p:dataTable id="dataHml_Sit" rowKey="#{h.situacao.idSituacao}"
							value="#{homologacaoController.homologacoes}" var="h">

							<p:column headerText="Situação">
								<h:outputText value="#{h.situacao.descricao}" />
							</p:column>
							<p:column headerText="Observação">
								<h:outputText value="#{h.observacoes}" />
							</p:column>
							<p:column headerText="Usuário">
								<h:outputText value="#{h.usuario.username}" />

							</p:column>
							<p:column headerText="Data">
								<h:outputText value="#{h.dataAtualizacao}">
									<f:convertDateTime pattern="dd/MM/yyyy" />
								</h:outputText>
							</p:column>

							<p:column headerText="Operações">
								<p:commandButton id="Bedit" icon="ui-icon-pencil"
									action="#{homologacaoController.editarconfiguracoes}"
									alt="Editar Registro" title="Editar Registro" immediate="true">
									<f:setPropertyActionListener value="#{h}"
										target="#{homologacaoController.hml_situacao}" />
								</p:commandButton>
						|
								<p:commandButton id="Bremove" icon="ui-icon-trash"
									alt="Remover Registro" title="Remover Registro"
									action="#{homologacaoController.delete}" immediate="true"
									update=":formconfHml">
									<p:confirm header="Confirme a Exclusão"
										message="Tem certeza que deseja excluir este registro?"
										icon="ui-icon-alert" />
									<f:setPropertyActionListener value="#{h}"
										target="#{homologacaoController.hml_situacao}" />
								</p:commandButton>




							</p:column>


						</p:dataTable>

						<p:commandButton icon="ui-icon-document" value="Novo"
							alt="Nova Situação" title="Nova Situação"
							actionListener="#{homologacaoController.novo}"
							update=":formconfHml:hmlDetail"
							oncomplete="PF('hmlDialog').show()">
						</p:commandButton>


					</fieldset>

					<br />

					<p:commandButton value="Voltar" ajax="false"
						action="#{homologacaoController.cancela}" immediate="true" />
					<p:messages autoUpdate="true" />

				</p:panel>

				<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
					<p:commandButton value="Sim" type="button"
						styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
					<p:commandButton value="Não" type="button"
						styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
				</p:confirmDialog>

				<p:dialog header="Inserir Nova Situação" widgetVar="hmlDialog"
					modal="true" showEffect="fade" hideEffect="fade" resizable="true">
					<p:outputPanel id="hmlDetail" style="text-align:center;">

						<p:panelGrid columns="2" columnClasses="label,value">
							<h:outputText value="Situação:"
								style="font-weight:bold;text-align:right;" />
							<h:selectOneMenu style="text-align:left;align:left;"
								value="#{homologacaoController.hml_situacao.situacao}"
								converter="convSituacao">
								<f:selectItem itemValue="" itemLabel="Selecione..." />
								<f:selectItems value="#{homologacaoController.situacoes}"
									var="sit" itemLabel="#{sit.descricao}" itemValue="#{sit}" />
							</h:selectOneMenu>

							<h:outputText value="Observação:" style="font-weight:bold;" />
							<p:inputTextarea
								value="#{homologacaoController.hml_situacao.observacoes}"
								style="width:400px;" />



							<p:commandButton value="Salvar" icon="ui-icon-disk"
								action="#{homologacaoController.add}"
								update=":formconfHml:dataHml_Sit"
								onsuccess="PF('hmlDialog').hide()" />
							<p:growl id="messages" showDetail="true" />
						</p:panelGrid>


					</p:outputPanel>
				</p:dialog>

				<p:ajaxStatus onstart="PF('statusDialog').show()"
					onsuccess="PF('statusDialog').hide()" />

				<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
					closable="false" resizable="false" showHeader="false">
					<p:graphicImage value="img/ajax-loader.gif" />

				</p:dialog>
			</h:form>
		</DIV>
		<ui:include src="WEB-INF/templates/footer.xhtml" />
	</div>
</h:body>
</html>